# ===========================================
# SalesBook Server Configuration
# ===========================================
# Copy this file to .env and fill in your values
# Never commit the .env file to version control!

# -------------------------------------------
# Application Settings
# -------------------------------------------

# Environment: development, production, test
NODE_ENV=development

# Server port
PORT=3000

# Application URL (used for generating links)
APP_URL=http://localhost:3000

# Frontend URL (for CORS)
CLIENT_URL=http://localhost:5173

# -------------------------------------------
# Database (Required)
# -------------------------------------------

# MySQL connection string
# Format: mysql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=mysql://user:password@localhost:3306/salesbook

# -------------------------------------------
# Authentication (Required)
# -------------------------------------------

# JWT secret key (min 32 characters, use random string)
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production

# Access token expiry
JWT_EXPIRES_IN=1h

# Refresh token expiry
JWT_REFRESH_EXPIRES_IN=7d

# -------------------------------------------
# Encryption (Required)
# -------------------------------------------

# 32-byte hex key for encrypting sensitive data (API keys, credentials)
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
ENCRYPTION_KEY=your-32-byte-encryption-key-here

# -------------------------------------------
# File Storage
# -------------------------------------------

# Local storage path for uploads, exports, etc.
STORAGE_PATH=./storage

# Maximum file upload size (in bytes)
MAX_FILE_SIZE=52428800

# -------------------------------------------
# Rate Limiting
# -------------------------------------------

# Rate limit window in minutes
RATE_LIMIT_WINDOW=15

# Max requests per window
RATE_LIMIT_MAX=100

# -------------------------------------------
# Email - SMTP (Optional)
# -------------------------------------------

# SMTP server settings
SMTP_HOST=
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=
SMTP_PASS=

# Default sender
SMTP_FROM_NAME=SalesBook
SMTP_FROM_EMAIL=noreply@example.com

# -------------------------------------------
# Email - Mailchimp/Mandrill (Optional)
# -------------------------------------------

MANDRILL_API_KEY=

# -------------------------------------------
# Email - SendGrid (Optional)
# -------------------------------------------

SENDGRID_API_KEY=

# -------------------------------------------
# Email - Amazon SES (Optional)
# -------------------------------------------

AWS_SES_REGION=
AWS_SES_ACCESS_KEY=
AWS_SES_SECRET_KEY=

# -------------------------------------------
# SMS/Voice - Twilio (Optional)
# -------------------------------------------

TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=

# -------------------------------------------
# WhatsApp Business API (Optional)
# -------------------------------------------

# Meta/Facebook WhatsApp Business API
WHATSAPP_API_URL=https://graph.facebook.com/v17.0
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=
WHATSAPP_BUSINESS_ACCOUNT_ID=
WHATSAPP_WEBHOOK_VERIFY_TOKEN=

# -------------------------------------------
# Telegram (Optional)
# -------------------------------------------

# Bot token from @BotFather
TELEGRAM_BOT_TOKEN=

# Webhook URL for receiving messages
TELEGRAM_WEBHOOK_URL=

# -------------------------------------------
# Proxy Configuration (Optional)
# -------------------------------------------

# Default proxy for scrapers
# PROXY_URL=http://proxy.example.com:8080
# PROXY_USERNAME=
# PROXY_PASSWORD=

# -------------------------------------------
# Logging
# -------------------------------------------

# Log level: error, warn, info, debug
LOG_LEVEL=info

# Log to file
LOG_TO_FILE=true

# -------------------------------------------
# Background Jobs
# -------------------------------------------

# Job processing interval (ms)
JOB_POLL_INTERVAL=5000

# Max concurrent jobs
JOB_CONCURRENCY=5

# Job timeout (ms)
JOB_TIMEOUT=300000

# -------------------------------------------
# Scraping
# -------------------------------------------

# Default browser for Playwright
SCRAPER_BROWSER=chromium

# Run headless by default
SCRAPER_HEADLESS=true

# Default page timeout (ms)
SCRAPER_TIMEOUT=30000

# Max concurrent scrapers
SCRAPER_CONCURRENCY=2

# -------------------------------------------
# Webhook URLs (for external services)
# -------------------------------------------

# Base URL for webhooks (must be publicly accessible)
# WEBHOOK_BASE_URL=https://yourdomain.com/api/v1/webhooks

# -------------------------------------------
# OpenAI (Optional - for AI template generation)
# -------------------------------------------

OPENAI_API_KEY=

# -------------------------------------------
# Development Only
# -------------------------------------------

# Enable Prisma query logging
# DEBUG=prisma:query

# Enable verbose app logging
# DEBUG=salesbook:*
